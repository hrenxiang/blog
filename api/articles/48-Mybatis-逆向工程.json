{"title":"Mybatis 逆向工程","uid":"cd7729b360a46c66a0dd34df45ad5b41","slug":"48-Mybatis-逆向工程","date":"2021-09-13T15:25:32.000Z","updated":"2021-09-15T10:51:17.974Z","comments":true,"path":"api/articles/48-Mybatis-逆向工程.json","cover":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-blog9.jpg","content":"<h3 id=\"8-补充（逆向工程）\"><a href=\"#8-补充（逆向工程）\" class=\"headerlink\" title=\"8. 补充（逆向工程）\"></a>8. 补充（逆向工程）</h3><h4 id=\"8-1-概念\"><a href=\"#8-1-概念\" class=\"headerlink\" title=\"8.1 概念\"></a>8.1 概念</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">概念\n    正向工程：先创建Java实体类，由框架负责根据实体类生成数据库表。Hibernate是支持正向工程的。\n\n    逆向工程：先创建数据库表，由框架负责根据数据库表，反向生成如下资源：\n            Java实体类\n            Mapper接口\n            Mapper配置文件</code></pre>\n\n<h4 id=\"8-2-基本原理\"><a href=\"#8-2-基本原理\" class=\"headerlink\" title=\"8.2 基本原理\"></a>8.2 基本原理</h4><p><img src=\"https://gitee.com/hrenxiang/picture/raw/master/img/mybatis-nixiang.png\" alt=\"images\"></p>\n<h4 id=\"8-3-配置POM文件\"><a href=\"#8-3-配置POM文件\" class=\"headerlink\" title=\"8.3 配置POM文件\"></a>8.3 配置POM文件</h4><pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;!-- 依赖MyBatis核心包 --&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;&#x2F;groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;&#x2F;artifactId&gt;\n        &lt;version&gt;3.5.7&lt;&#x2F;version&gt;\n    &lt;&#x2F;dependency&gt;\n&lt;&#x2F;dependencies&gt;\n    \n&lt;!-- 控制Maven在构建过程中相关配置 --&gt;\n&lt;build&gt;\n        \n    &lt;!-- 构建过程中用到的插件 --&gt;\n    &lt;plugins&gt;\n        \n        &lt;!-- 具体插件，逆向工程的操作是以构建过程中插件形式出现的 --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mybatis.generator&lt;&#x2F;groupId&gt;\n            &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;&#x2F;artifactId&gt;\n            &lt;version&gt;1.3.0&lt;&#x2F;version&gt;\n    \n            &lt;!-- 插件的依赖 --&gt;\n            &lt;dependencies&gt;\n                \n                &lt;!-- 逆向工程的核心依赖 --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.mybatis.generator&lt;&#x2F;groupId&gt;\n                    &lt;artifactId&gt;mybatis-generator-core&lt;&#x2F;artifactId&gt;\n                    &lt;version&gt;1.3.2&lt;&#x2F;version&gt;\n                &lt;&#x2F;dependency&gt;\n                    \n                &lt;!-- 数据库连接池 --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.mchange&lt;&#x2F;groupId&gt;\n                    &lt;artifactId&gt;c3p0&lt;&#x2F;artifactId&gt;\n                    &lt;version&gt;0.9.2&lt;&#x2F;version&gt;\n                &lt;&#x2F;dependency&gt;\n                    \n                &lt;!-- MySQL驱动 --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;mysql&lt;&#x2F;groupId&gt;\n                    &lt;artifactId&gt;mysql-connector-java&lt;&#x2F;artifactId&gt;\n                    &lt;version&gt;5.1.8&lt;&#x2F;version&gt;\n                &lt;&#x2F;dependency&gt;\n            &lt;&#x2F;dependencies&gt;\n        &lt;&#x2F;plugin&gt;\n    &lt;&#x2F;plugins&gt;\n&lt;&#x2F;build&gt;</code></pre>\n\n<h4 id=\"8-4-MBG配置文件\"><a href=\"#8-4-MBG配置文件\" class=\"headerlink\" title=\"8.4 MBG配置文件\"></a>8.4 MBG配置文件</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">文件名必须是：generatorConfig.xml</code></pre>\n\n<pre class=\"line-numbers language-xml\" data-language=\"xml\"><code class=\"language-xml\">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE generatorConfiguration\n        PUBLIC &quot;-&#x2F;&#x2F;mybatis.org&#x2F;&#x2F;DTD MyBatis Generator Configuration 1.0&#x2F;&#x2F;EN&quot;\n        &quot;http:&#x2F;&#x2F;mybatis.org&#x2F;dtd&#x2F;mybatis-generator-config_1_0.dtd&quot;&gt;\n&lt;generatorConfiguration&gt;\n    &lt;!--\n            targetRuntime: 执行生成的逆向工程的版本\n                    MyBatis3Simple: 生成基本的CRUD（清新简洁版）\n                    MyBatis3: 生成带条件的CRUD（奢华尊享版）\n     --&gt;\n    &lt;context id&#x3D;&quot;DB2Tables&quot; targetRuntime&#x3D;&quot;MyBatis3&quot;&gt;\n        &lt;!-- 数据库的连接信息 --&gt;\n        &lt;jdbcConnection driverClass&#x3D;&quot;com.mysql.jdbc.Driver&quot;\n                        connectionURL&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;192.168.198.100:3306&#x2F;mybatis-example&quot;\n                        userId&#x3D;&quot;root&quot;\n                        password&#x3D;&quot;atguigu&quot;&gt;\n        &lt;&#x2F;jdbcConnection&gt;\n        &lt;!-- javaBean的生成策略--&gt;\n        &lt;javaModelGenerator targetPackage&#x3D;&quot;com.atguigu.mybatis.entity&quot; targetProject&#x3D;&quot;.\\src\\main\\java&quot;&gt;\n            &lt;property name&#x3D;&quot;enableSubPackages&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;\n            &lt;property name&#x3D;&quot;trimStrings&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;\n        &lt;&#x2F;javaModelGenerator&gt;\n        &lt;!-- SQL映射文件的生成策略 --&gt;\n        &lt;sqlMapGenerator targetPackage&#x3D;&quot;com.atguigu.mybatis.mapper&quot;  targetProject&#x3D;&quot;.\\src\\main\\java&quot;&gt;\n            &lt;property name&#x3D;&quot;enableSubPackages&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;\n        &lt;&#x2F;sqlMapGenerator&gt;\n        &lt;!-- Mapper接口的生成策略 --&gt;\n        &lt;javaClientGenerator type&#x3D;&quot;XMLMAPPER&quot; targetPackage&#x3D;&quot;com.atguigu.mybatis.mapper&quot;  targetProject&#x3D;&quot;.\\src\\main\\java&quot;&gt;\n            &lt;property name&#x3D;&quot;enableSubPackages&quot; value&#x3D;&quot;true&quot; &#x2F;&gt;\n        &lt;&#x2F;javaClientGenerator&gt;\n        &lt;!-- 逆向分析的表 --&gt;\n        &lt;!-- tableName设置为*号，可以对应所有表，此时不写domainObjectName --&gt;\n        &lt;!-- domainObjectName属性指定生成出来的实体类的类名 --&gt;\n        &lt;table tableName&#x3D;&quot;t_emp&quot; domainObjectName&#x3D;&quot;Employee&quot;&#x2F;&gt;\n        &lt;table tableName&#x3D;&quot;t_customer&quot; domainObjectName&#x3D;&quot;Customer&quot;&#x2F;&gt;\n        &lt;table tableName&#x3D;&quot;t_order&quot; domainObjectName&#x3D;&quot;Order&quot;&#x2F;&gt;\n    &lt;&#x2F;context&gt;\n&lt;&#x2F;generatorConfiguration&gt;</code></pre>\n\n<h4 id=\"8-5-执行MBG插件的generate目标\"><a href=\"#8-5-执行MBG插件的generate目标\" class=\"headerlink\" title=\"8.5 执行MBG插件的generate目标\"></a>8.5 执行MBG插件的generate目标</h4><p><img src=\"https://gitee.com/hrenxiang/picture/raw/master/img/mybatis-generate.png\" alt=\"images\"></p>\n<h4 id=\"8-6-效果（自动生成下述文件）\"><a href=\"#8-6-效果（自动生成下述文件）\" class=\"headerlink\" title=\"8.6 效果（自动生成下述文件）\"></a>8.6 效果（自动生成下述文件）</h4><p><img src=\"https://gitee.com/hrenxiang/picture/raw/master/img/mybatis-zidongshengcheng.png\" alt=\"images\"></p>\n<h4 id=\"8-7-QBC查询\"><a href=\"#8-7-QBC查询\" class=\"headerlink\" title=\"8.7 QBC查询\"></a>8.7 QBC查询</h4><p><strong>想了解去百度</strong></p>\n","text":"8. 补充（逆向工程）8.1 概念概念 正向工程：先创建Java实体类，由框架负责根据实体类生成数据库表。Hibernate是支持正向工程的。 逆向工程：先创建数据库表，由框架负责根据数据库表，反向生成如下资源： Java实体类 Mapper接口 Mapper配置文件 8.2 基...","link":"","photos":[],"count_time":{"symbolsCount":"4.8k","symbolsTime":"4 mins."},"categories":[{"name":"Mybatis","slug":"Mybatis","count":6,"path":"api/categories/Mybatis.json"}],"tags":[{"name":"Mybatis","slug":"Mybatis","count":6,"path":"api/tags/Mybatis.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#8-%E8%A1%A5%E5%85%85%EF%BC%88%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%EF%BC%89\"><span class=\"toc-text\">8. 补充（逆向工程）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-1-%E6%A6%82%E5%BF%B5\"><span class=\"toc-text\">8.1 概念</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-2-%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86\"><span class=\"toc-text\">8.2 基本原理</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-3-%E9%85%8D%E7%BD%AEPOM%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">8.3 配置POM文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-4-MBG%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\"><span class=\"toc-text\">8.4 MBG配置文件</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-5-%E6%89%A7%E8%A1%8CMBG%E6%8F%92%E4%BB%B6%E7%9A%84generate%E7%9B%AE%E6%A0%87\"><span class=\"toc-text\">8.5 执行MBG插件的generate目标</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-6-%E6%95%88%E6%9E%9C%EF%BC%88%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E4%B8%8B%E8%BF%B0%E6%96%87%E4%BB%B6%EF%BC%89\"><span class=\"toc-text\">8.6 效果（自动生成下述文件）</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#8-7-QBC%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">8.7 QBC查询</span></a></li></ol></li></ol>","author":{"name":"大黄","slug":"blog-author","avatar":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-hh.JPG","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"https://github.com/hrenxiang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/15236325327","zhihu":"https://www.zhihu.com/people/hrenxiang","csdn":"https://blog.csdn.net/hrenxiang","juejin":"https://juejin.cn/user/985642616227406","customs":{}}},"mapped":true,"prev_post":{"title":"Spring 基础和IOC","uid":"8ec558949bfff1ff48dc8dd0d9de915c","slug":"49-Spring-基础与IOC","date":"2021-09-13T15:26:32.000Z","updated":"2021-09-15T10:51:05.577Z","comments":true,"path":"api/articles/49-Spring-基础与IOC.json","cover":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-blog10.jpg","text":"01. Spring框架简介 Spring 框架是一个 Java 平台，为开发 Java 应用程序提供全面的基础架构支持。 Spring 处理基础结构，因此您可以专注于应用程序。 Spring 使您能够从“普通的 Java 对象”(POJO)构建应用程序，并将企业服务非侵入性地应...","link":"","photos":[],"count_time":{"symbolsCount":"33k","symbolsTime":"30 mins."},"categories":[{"name":"Spring","slug":"Spring","count":6,"path":"api/categories/Spring.json"}],"tags":[{"name":"Spring","slug":"Spring","count":6,"path":"api/tags/Spring.json"}],"author":{"name":"大黄","slug":"blog-author","avatar":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-hh.JPG","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"https://github.com/hrenxiang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/15236325327","zhihu":"https://www.zhihu.com/people/hrenxiang","csdn":"https://blog.csdn.net/hrenxiang","juejin":"https://juejin.cn/user/985642616227406","customs":{}}}},"next_post":{"title":"Mybatis 装饰底层","uid":"14472dd3b23cbe4f0d4e64f3f2df1f1f","slug":"47-Mybatis-装饰底层","date":"2021-09-13T15:24:32.000Z","updated":"2021-09-15T10:51:27.987Z","comments":true,"path":"api/articles/47-Mybatis-装饰底层.json","cover":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-blog8.jpg","text":"1. 装饰器模式装饰器模式（Decorator Pattern）允许向一个现有的对象添加新的功能，同时又不改变其结构。这种类型的设计模式属于结构型模式，它是作为现有的类的一个包装。 这种模式创建了一个装饰类，用来包装原有的类，并在保持类方法签名完整性的前提下，提供了额外的功能。 ...","link":"","photos":[],"count_time":{"symbolsCount":"7.7k","symbolsTime":"7 mins."},"categories":[{"name":"Mybatis","slug":"Mybatis","count":6,"path":"api/categories/Mybatis.json"}],"tags":[{"name":"Mybatis","slug":"Mybatis","count":6,"path":"api/tags/Mybatis.json"}],"author":{"name":"大黄","slug":"blog-author","avatar":"https://gitee.com/hrenxiang/picture/raw/master/uPic/2021:09:14-hh.JPG","link":"/","description":"一位正在重塑知识的技术人","socials":{"github":"https://github.com/hrenxiang","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"https://weibo.com/u/15236325327","zhihu":"https://www.zhihu.com/people/hrenxiang","csdn":"https://blog.csdn.net/hrenxiang","juejin":"https://juejin.cn/user/985642616227406","customs":{}}}}}